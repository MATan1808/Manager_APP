//PS D:\Official_Project\Project_QT_BANK\BackEnd\my-express-app> npm start
//C:\Windows\SysWOW64\SQLServerManager16.msc
//npm install express mssql bcryptjs jsonwebtoken dotenv cÃ i Ä‘áº·t mssql
//npm install mssql dotenv 
npm install express mssql dotenv
npm init -y
npm install express jsonwebtoken dotenv body-parser mssql bcryptjs cors
 express: Framework Node.js
ğŸ“ jsonwebtoken: Xá»­ lÃ½ JWT cho Ä‘Äƒng nháº­p
ğŸ“ mssql: Káº¿t ná»‘i SQL Server
ğŸ“ bcryptjs: MÃ£ hÃ³a máº­t kháº©u

mssql: thÆ° viá»‡n giÃºp Node.js kÃªts ná»‘i vá»›i SQL Server
dotenv: Quáº£n lÃ½ biáº¿n mÃ´i trÆ°á»ng (.nv file), giÃºp báº£o máº­t thÃ´ng tin káº¿t ná»‘i database 

âœ” ÄÃ£ xÃ¢y dá»±ng API Ä‘Äƒng kÃ½ vÃ  Ä‘Äƒng nháº­p vá»›i Node.js + Express + SQL Server
âœ” Sá»­ dá»¥ng bcryptjs Ä‘á»ƒ mÃ£ hÃ³a máº­t kháº©u
âœ” Sá»­ dá»¥ng jsonwebtoken (JWT) Ä‘á»ƒ táº¡o token
âœ” API báº£o máº­t vÃ  dá»… má»Ÿ rá»™ng ğŸš€


JWT (JSON Web Token) 
lÃ  má»™t phÆ°Æ¡ng thá»©c xÃ¡c thá»±c an toÃ n dÃ¹ng Ä‘á»ƒ quáº£n lÃ½ Ä‘Äƒng nháº­p vÃ  báº£o máº­t API. 
Sau khi ngÆ°á»i dÃ¹ng Ä‘Äƒng nháº­p thÃ nh cÃ´ng, server sáº½ táº¡o má»™t JWT token vÃ  gá»­i vá» cho client. 
Token nÃ y sáº½ Ä‘Æ°á»£c client sá»­ dá»¥ng trong cÃ¡c request tiáº¿p theo Ä‘á»ƒ xÃ¡c minh danh tÃ­nh mÃ  khÃ´ng cáº§n Ä‘Äƒng nháº­p láº¡i.

Káº¿t ná»‘i SQL server cho Node.js

cÃ¡ch 1 táº¡o database server á»Ÿ SSMS vÃ  cÃ i Ä‘áº·t 
//npm install express mssql bcryptjs jsonwebtoken dotenv cÃ i Ä‘áº·t mssql
//npm install mssql dotenv 

cÃ¡ch 2 táº¡o file .env Ä‘á»ƒ lÆ°u thÃ´ng tin káº¿t ná»‘i 

DB_USER=sa                # TÃ i khoáº£n SQL Server (Máº·c Ä‘á»‹nh lÃ  'sa' náº¿u cÃ i local)
DB_PASSWORD=yourpassword  # Máº­t kháº©u SQL Server
DB_SERVER=localhost       # Äá»‹a chá»‰ server (Local: localhost hoáº·c 127.0.0.1)
DB_DATABASE=personal_expense_manager  # TÃªn database báº¡n Ä‘Ã£ táº¡o
DB_PORT=1433             # Cá»•ng máº·c Ä‘á»‹nh cá»§a SQL Server
DB_ENCRYPT=false         # KhS


cáº¥u trÃºc folder 
ğŸ“‚ Cáº¥u trÃºc thÆ° má»¥c má»›i
ğŸ“‚ my-express-app
â”œâ”€â”€ ğŸ“„ server.js # File chÃ­nh Ä‘á»ƒ cháº¡y server
â”œâ”€â”€ ğŸ“„ connectDB.js # Káº¿t ná»‘i SQL Server
â”œâ”€â”€ ğŸ“‚ routes # Chá»©a cÃ¡c route API
â”‚ â”œâ”€â”€ ğŸ“„ authRoutes.js # Routes cho Ä‘Äƒng kÃ½ & Ä‘Äƒng nháº­p
â”‚ â”œâ”€â”€ ğŸ“„ protectedRoutes.js # ğŸ“Œ ThÃªm route báº£o vá»‡
â”œâ”€â”€ ğŸ“‚ controllers # Chá»©a cÃ¡c hÃ m xá»­ lÃ½ logic
â”‚ â”œâ”€â”€ ğŸ“„ authController.js # Xá»­ lÃ½ Ä‘Äƒng kÃ½ & Ä‘Äƒng nháº­p
â”œâ”€â”€ ğŸ“‚ middleware # ğŸ“Œ ThÆ° má»¥c chá»©a middleware
â”‚ â”œâ”€â”€ ğŸ“„ authMiddleware.js # ğŸ“Œ Middleware kiá»ƒm tra JWT
â”œâ”€â”€ ğŸ“‚ models # Chá»©a cÃ¡c truy váº¥n SQL
â”‚ â”œâ”€â”€ ğŸ“„ userModel.js # Xá»­ lÃ½ database liÃªn quan Ä‘áº¿n user
â”œâ”€â”€ ğŸ“„ .env # Chá»©a thÃ´ng tin báº£o máº­t nhÆ° DB_USER, JWT_SECRET
â”œâ”€â”€ ğŸ“„ package.json # Danh sÃ¡ch thÆ° viá»‡n cÃ i Ä‘áº·t